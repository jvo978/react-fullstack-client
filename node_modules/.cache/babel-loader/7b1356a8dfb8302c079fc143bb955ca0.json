{"ast":null,"code":"var _jsxFileName = \"/Users/jasonvo/Code/react-fullstack/client/src/App.js\",\n    _s = $RefreshSig$();\n\nimport './App.css';\nimport Home from './routes/Home';\nimport Post from './routes/Post';\nimport Login from './routes/Login';\nimport Registration from './routes/Registration';\nimport CreatePost from './routes/CreatePost';\nimport PageNotFound from './routes/PageNotFound';\nimport { AuthContext } from './helpers/AuthContext';\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { BrowserRouter, Routes, Route, Link, useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [authState, setAuthState] = useState({\n    username: \"\",\n    id: 0,\n    status: false\n  });\n  let navigate = useNavigate();\n  useEffect(() => {\n    if (!authState.status) {\n      navigate('/');\n    } else {\n      axios.get(\"http://localhost:3001/auth/check\", {\n        headers: {\n          accessToken: localStorage.getItem(\"accessToken\")\n        }\n      }).then(response => {\n        if (response.data.error) {\n          setAuthState({ ...authState,\n            status: false\n          });\n        } else {\n          setAuthState({\n            username: response.data.username,\n            id: response.data.id,\n            status: true\n          });\n        }\n      });\n    }\n  }, []);\n\n  const logout = () => {\n    localStorage.removeItem(\"accessToken\");\n    setAuthState({\n      username: \"\",\n      id: 0,\n      status: false\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n      value: {\n        authState,\n        setAuthState\n      },\n      children: /*#__PURE__*/_jsxDEV(BrowserRouter, {\n        children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n          className: \"navBar\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"links\",\n            children: !authState.status ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Link, {\n                to: \"/registration\",\n                children: \"Registration\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/login\",\n                children: \"Login\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Link, {\n                to: \"/\",\n                children: \"Home\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 13\n              }, this), \" \", \" \", /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/createpost\",\n                children: \"Create A Post\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loggedInContainer\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: authState.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 11\n            }, this), authState.status && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: logout,\n              children: \" Logout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 32\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Routes, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            path: \"/\",\n            element: /*#__PURE__*/_jsxDEV(Home, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 34\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/createpost\",\n            element: /*#__PURE__*/_jsxDEV(CreatePost, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 44\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/post/:id\",\n            element: /*#__PURE__*/_jsxDEV(Post, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 42\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/registration\",\n            element: /*#__PURE__*/_jsxDEV(Registration, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 46\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/login\",\n            element: /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 39\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"*\",\n            element: /*#__PURE__*/_jsxDEV(PageNotFound, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 34\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"fwFrbn5NL4bxmFYyDBF088KCVBw=\", false, function () {\n  return [useNavigate];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/jasonvo/Code/react-fullstack/client/src/App.js"],"names":["Home","Post","Login","Registration","CreatePost","PageNotFound","AuthContext","useState","useEffect","axios","BrowserRouter","Routes","Route","Link","useNavigate","App","authState","setAuthState","username","id","status","navigate","get","headers","accessToken","localStorage","getItem","then","response","data","error","logout","removeItem"],"mappings":"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","sourcesContent":["import './App.css';\nimport Home from './routes/Home';\nimport Post from './routes/Post';\nimport Login from './routes/Login';\nimport Registration from './routes/Registration';\nimport CreatePost from './routes/CreatePost';\nimport PageNotFound from './routes/PageNotFound';\nimport { AuthContext } from './helpers/AuthContext';\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { \n  BrowserRouter, \n  Routes, \n  Route,\n  Link,\n  useNavigate\n} from \"react-router-dom\";\n\nfunction App() {\n  const [authState, setAuthState] = useState({ username: \"\", id: 0, status: false })\n  let navigate = useNavigate()\n\n  useEffect(() => {\n    if (!authState.status) {\n      navigate('/')\n    } else {\n      axios.get(\"http://localhost:3001/auth/check\", { headers: {\n      accessToken: localStorage.getItem(\"accessToken\")\n    }})\n      .then((response) => {\n      if (response.data.error) {\n        setAuthState({ ...authState, status: false })\n      } else {\n        setAuthState({\n          username: response.data.username,\n          id: response.data.id,\n          status: true\n        })\n      }\n    })\n    }\n  },[])\n\n  const logout = () => {\n    localStorage.removeItem(\"accessToken\")\n    setAuthState({ username: \"\", id: 0, status: false });\n  }\n\n  return (\n    <div className=\"App\">\n      <AuthContext.Provider value={{ authState, setAuthState }}>\n      <BrowserRouter>\n      <nav className='navBar'>\n        <div className='links'>\n          {!authState.status ? (\n          <>\n            <Link to=\"/registration\">Registration</Link>\n            <Link to=\"/login\">Login</Link>\n          </>\n        ) : (\n          <>\n            <Link to=\"/\">Home</Link> {\" \"}\n            <Link to=\"/createpost\">Create A Post</Link>\n          </>\n        )}\n        </div>\n        <div className='loggedInContainer'>\n          <h1>{authState.username}</h1>\n          {authState.status && <button onClick={logout}> Logout</button>}\n        </div>        \n      </nav>\n    <Routes>\n        <Route path=\"/\" element={<Home />} />\n        <Route path=\"/createpost\" element={<CreatePost />} />\n        <Route path=\"/post/:id\" element={<Post />} />\n        <Route path=\"/registration\" element={<Registration />} />\n        <Route path=\"/login\" element={<Login />} />\n        <Route path=\"*\" element={<PageNotFound />} />\n    </Routes>\n  </BrowserRouter>\n  </AuthContext.Provider>\n      </div>\n  )\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}